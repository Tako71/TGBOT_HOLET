# Telegram bot Hotel

![Telegram-bot Hotel](https://phonoteka.org/uploads/posts/2023-04/1680355542_phonoteka-org-p-telegram-znachek-art-krasivo-70.png)

## Краткое описание

Данный телеграм бот, позволяет находить выгодные предложения по отелям через платформу Hotels.com. Пользователи могут использовать специальные команды для получения информации о различных типах отелей.

## Функциональность

- Узнать топ самых дешёвых отелей в городе (команда `/lowprice`).
- Узнать топ самых дорогих отелей в городе (команда `/highprice`).
- Узнать топ отелей, подходящих по цене и расположению от центра (команда `/bestdeal`).
- Просмотреть историю поиска отелей (команда `/history`).

## Полное описание работы команд

### Команда /start

После ввода команды:

- Выводится приветствие пользователю.

### Команда /help

После ввода команды:

- Выводится список всех команд с кратким описанием каждой команды.

### Команда /lowprice

После ввода команды у пользователя запрашивается:

1. Город, где будет проводиться поиск.
2. Выдается список возможных вариантов городов в виде inline-клавиатуры, пользователь выбирает нужный.
3. Количество отелей, которые необходимо вывести в результате (не больше заранее определённого максимума).
4. Запрашиваются минимальная и максимальная стоимость отеля в долларах США.
5. Необходимость загрузки и вывода фотографий для каждого отеля (“Да/Нет”). При положительном ответе пользователь также вводит количество необходимых фотографий (не больше заранее определённого максимума).
6. Выводится календарь с возможностью выбора даты заезда или выезда.

### Команда /highprice

После ввода команды у пользователя запрашивается:

1. Город, где будет проводиться поиск.
2. Выдается список возможных вариантов городов в виде inline-клавиатуры, пользователь выбирает нужный.
3. Количество отелей, которые необходимо вывести в результате (не больше заранее определённого максимума).
4. Запрашиваются минимальная и максимальная стоимость отеля в долларах США.
5. Необходимость загрузки и вывода фотографий для каждого отеля (“Да/Нет”). При положительном ответе пользователь также вводит количество необходимых фотографий (не больше заранее определённого максимума).
6. Выводится календарь с возможностью выбора даты заезда или выезда.

### Команда /bestdeal

После ввода команды у пользователя запрашивается:

1. Город, где будет проводиться поиск.
2. Выдается список возможных вариантов городов в виде inline-клавиатуры, пользователь выбирает нужный.
3. Количество отелей, которые необходимо вывести в результате (не больше заранее определённого максимума).
4. Запрашиваются минимальная и максимальная стоимость отеля в долларах США.
5. Необходимость загрузки и вывода фотографий для каждого отеля (“Да/Нет”). При положительном ответе пользователь также вводит количество необходимых фотографий (не больше заранее определённого максимума).
6. Выводится календарь с возможностью выбора даты заезда или выезда.
7. Диапазон расстояния, на котором находится отель от центра.

### Команда /history

После ввода команды пользователю выводится история поиска отелей:

- Выдает список выполненных пользователем запросов, но не более 5.
- Дату и время ввода команды.
- Город, по которому пользователь искал отели.
- Если пользователю фотографии были не нужны, то они не будут выведены.


## Технологии и инструменты

- pyTelegramBotAPI==4.4.0
- python-dotenv==0.19.2
- pip~=21.1.2
- wheel~=0.36.2
- certifi~=2022.6.15
- requests~=2.28.1
- idna~=3.3
- urllib3~=1.26.11
- setuptools~=57.0.0
- loguru~=0.6.0



### Установка
- Создайте на своем компютере папку проекта
- Склонируйте этот репозиторий в папку проекта https://github.com/Tako71/TGBOT_HOLET.git
- Создайте файл `.env` и добавьте в него переменные окружения, следующего вида:

- BOT_TOKEN= "ваш ключ взятый у BotFather"
- RAPID_API_KEY= "ваш api key взятый с сайта rapidapi.com"

- Активируйте виртуальное окружение `pipenv shell`
- Установите все зависимости `pipenv install --ignore-Pipfile`
- Запустите бота командой `pipenv run main.py` из Терминала из папки с проектом
- Установить виртуальное окружение командой: `python -m venv venv`
- Активировать виртуальное окружение командой: `source venv/bin/activate`
- установить необходимые зависимости командой: `pip install -r requirements.txt`
- Запустите бота командой: `python main.py`
